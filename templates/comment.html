{% extends "base.html" %}

{% block content %}
<div class="container bg-white rounded shadow-sm mt-4 py-2">
<form action="" method="post">
    {{ form.hidden_tag() }}
<div class="col-md6 border rounded p-1 mt-2">
    <h2 class="rounded p-1" style="background-color: #d6e6fe">{{news.title}}</h2>
    <div>
        {{news.content}}
    </div>

    <div>
        Автор - {{news.user.name}}, Дата написания - {{news.created_date}}
    </div>
    </div>
    <div>
        <h5 class="mt-2">Комментарии</h5>
        <div class="d-flex flex-column col-md6 border rounded p-1 mt-2">

        {% for all in comments %}
            <div class="d-sm-flex flex-column" style="margin-left:{{all[4]}}em; margin-bottom: 10px;" >
                <div class="d-flex flex-row">
                    <b style="margin-right:15px">{{all[1]}}</b>
                    <div class=" text-secondary">{{all[0].strftime('%d.%m.%Y %H:%M')}}</div>
                </div>
                {{all[2]}}
                <div class="d-flex justify-content-start">
                <a href="/news_comment/{{ news.id }}/{{all[3]}}" class="btn btn-outline-secondary btn-sm " style="width:100">
                Ответить
                </a></div>
            </div>
        {% endfor %}
        </div>
    </div>

    <p>
        {{ form.title(class="form-control") }}
        {% for error in form.title.errors %}
            <p content="alert alert-danger" role="alert">
                {{ error }}
            </p>
        {% endfor %}
    </p>


    <p>{{ form.submit(type="submit", class="btn btn-primary") }}</p>
    {{message}}
    </form>
</div>
{% endblock %}